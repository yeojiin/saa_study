### 프라이빗 vs 퍼블릭 vs 탄력적 IP

- IPV4: .을 기준으로 4개의 . 이 존재
- 공용 아이피는 어디서든지 접근이 가능하고, 사설 아이피는 사설 네트워크 안에서만 액세스 가

#### 공용 아이피
- 기기가 인터넷 상에서 식별될 수 있음
- 유일성
- 지리적 위치를 찾을 수 있음
#### 사설 아이피
- 사설 네트워크 안에서만 유일함
- NAT 장치와 프록시 역할을 할 인터넷 GW를 통해 인터넷여 연결됨
- 지정된 범위 내에서 IP가 생성됨
- VPN 을 사용해 사설 네트워크망에 접속하면 접근 가능함

#### 엘라스틱 아이피
- 인스턴스가 재실행될 때마다 공용 IP가 새롭게 할당될 수 있음
	- 고정된 공용 IP를 사용하면 엘라스틱 IP가 필요함
- 계정당 5개의 엘라스틱 IP정도만 사용할 수 있음
- 엘라스틱 아이피를 사용하는 것은 비권장 -> 임의의 공용 IP를 사용해 DNS 이름을 할당하는 것이 좋음(도메인)

### 배치 그룹
- EC2 인스턴스가 AWS 인프라에 배치되는 방식을 제어할 때 사용
- 배치그룹을 사용해 전략을 짤 수 있음
- 3가지 전략
	- 클러스터 배치 그룹:  단일 가용 영역 내에서 지연 시간이 짧은 하드웨어 설정
		- 하이 퍼포먼스 하이 리스크
		- 같은 랙,  하드웨어, 같은 가용 영역 안에 모든 인스턴스가 존재
		- 지연 속도가 빠름
		- 하드웨어 실패가 발생하면 모든 EC2가 전체 실패됨 
		- 빅데이터 작업에 유리
	- 분산 배치 그룹: 인스턴스가 다른 하드웨어에 분산됨
		- 최대 7개의 인스턴스가 각  AZ마다
		- 실패 위험 최소화
		- 모든 인스턴스가 다른 하드웨어에 존재
		- 여러 가용 영역에 있어 실패 확률이 적음 -> 서버 이중화처럼
		- 배치 그룹 규모가 7으로 제한됨
		- 크리티컬 애플리케이션
	- 분할 배치 그룹:  여러 파티션에 인스턴스가 분할
		- 파티션은 가용 영역 내의 다양한 하다웨어 랙 세트에 의존
		- 하둡, 카산드라, 카프카 등에 사용 가능
		- 파티션이 나뉘고 그 안에 여러 인스턴스가 존재할 수 있음 
		- 파티션 = aws 랙
		- 랙 실패로 부터 안전 하고, 동일한 리전의 여러 가용 영역에 걸쳐 있을 수 있음
		- 파티션의 갯수 제한은 있지만 인스턴스는 파티션 안에 마음대로 설정할 수 있으므로 인스턴스 수량을 많이 늘릴 수 있는 점이 분산 배치 그룹과 차이
		- HDFS, HBase, 카산드라, 카프카 등에 사용
-

### ENI
- VPC의 논리적 구성 요소이며 가상 네트워크 카드를 의미함
- EC2인스턴스가 네트워크에 액세스 할 수 있게 해줌
- 인스턴스 외부에서도 사용 가능
- 속성
	- 주요 사설 IPv4과 하나 이상의 보조 IPv4를 가질 수 있음
	- 하나의 엘라스틱 아이피 당 하나의 사설 IPv4 및 공용 IP가 한 개씩 제공
	- 하나 이상의 보안 그룹을 연결할 수 있음
	- mac 주소를 연결할 수도 있음
- EC2인스턴스와 독립적으로 ENI를 생성하고 즉시 연결하거나 장애 조치르 위해 EC2인스턴스에서 이동시킬 수 있음
- 특정 가용 영역인 AZ에 바인딩됨
- 

### EC2 하이버네이트
- stop: EBS 디스크 데이터는 다시 시작할 때까지 유지
- terminate: 루트 볼륨이 삭제되게 했다면 인스턴스도 삭제되지만 나머지는 남음
- restart: 운영 체제가  재실핼 -> 사용자 데이터 -> 운영 체제 시작 -> 애플리케이션 시작
- 절전모드(하이버네이트)에 들어가면 RAM에 기록된 메모리 상태는 루트 경로의 EBS 볼륨에 기록되기 때문에
- 루트 EBS 볼륨을 암호화해야하고, 볼륨 용량도 RAM을 저장하기에 충분해야함
- 오래 사용되는 인스턴스를 빠르게 재시작하고 싶거나 할 때 사용
- 서비스 중지가 일어나지 않는 것처럼 보임
- 루트 볼륨 EBS 에서만 사용 가능
- 절전 모드는 최대 60일까지 사용 가능
- RAM은 150G미만이어야 함
