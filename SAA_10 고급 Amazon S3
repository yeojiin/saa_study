### S3 생명 주기 규칙
- 객체를 스토리지 클래스 사이에서 옮길 수 있다
- Standard: 자주 엑세스 하지 않은 스토리지
- Glaier, Deep Archive: 객체를 아카이브화
- 라이프 사이클 규칙에 의해 자동으로 옮길 수 있다
	- Transition Actions: 다른 스토리지 클래스로 이전하기 위해 객체를 설정함
		- 생성된지 60일 후 standard 클래스로 이전시킴
	- Expiration actions: 일정 시간 뒤에 만료되어 객체를 삭제하도록 설정
	- 접두사에 의한 지정 - prefix
	- 태그에 의한 지정
- 썸네일은 쉽게 재생성될 수 있고, 60일 동안 보관되어야 함. 소스 이미지는 60일 동안 즉시 불러와져야하며 그 후에는 최장 6시간을 기다릴 수 있다
	- 소스 이미지는 Standard에 있고, 60일 후 라이프사이클을 통해 Glacier로 옮긴다(아카이브화), 썸네일 이미지는 One-Zone IA에 있을 수 있음. 왜냐면 빈번히 액세스 하지 않고 쉽게 재생성 할 수 있기 때문. 60일 후 만료시키거나 삭제할 수 있는 라이프 사이클을 지정할 수 있음
- 삭제된 객체를 복구할 수 있어야 할 때 
	- S3 버저닝 사용 -> 삭제 마크를 가지고 삭제된 객체를 표시함
- Storage Class Analysis 를 이용해 분석을 활용할 수 있음

### 요청자 지불
- 기본 - 버킷 소유자가 버킷 관련된 비용을 지불한다 (스토리지 비용 + 네트워크 비용)
- 소유자가 버킷 스토리지 비용을 부담하지만, 요청자가 다운로드할 경우 네트워크 비용등을 지불 할 수 있음
	- 요청자는 AWS 인증을 받아야 함

### 이벤트 알림
- use case에 따라 알림을 줄 수 있음 
- 이미지 업로드 시 SNS, SQS, Lambds Function 알림 등 사용
- IAM 권한이 필요함
- SNS에 알림을 보내려면 SNS리소스 정책이 필요함, SQS는 SQS 리소스 정책이 필요함
- Amazon EventBridge로 필터링해서 보낼 수도 있음
	- Advenced filtering
	- multiple destination
	- eventBridge Capabilities

### S3 퍼포먼스
- 속도가 매우 빠름
- 버킷 내에서 접두사의 수 제한은 없음
- 접두사 = object path 
	- bucket/folder1/sub1/file -> /folder1/sub1/ 가 접두사가 됨
- 최적화
	- 멀티파트 업로드
		- 5기가 넘는 파일은 무조건 사용해야함, 100mb 이상부터 사용 권장
		- 파일 하나를 여러 파트로 나누고, S3에 병렬로 업로드 후 업로드 완료 후 하나의 파일로 합침
	- S3 Transfer  acceleration
		- 미국에 있는 엣지 로케이션을  이용해 빠르게 업로드 후 호주 S3 버킷에 올릴 수 있음(private) -> 전송 가속화
		- 퍼블릭을 최소화 프라이빗을 최대한 사용
	- S3 byte range fetches
		- 다운로드 시 사용 가능 -> 다운로드 시 파트로 다운되는데 병렬로 처리
		- 파트 데이터 일부분만을 검색할 경우 

### Select & Glacier Select
- sql문으로 간단히 필터링을 걸어 행과 열을 찾을 수 있음
- 적은 네트워크 전송  및 cpu를 적게 씀

### Batch Operation
- 대량 작업 수행
- 모든 객체를 암호화 할 수 있음 
- ACLs, tags 변경 가능
- 작업은 객체의 목록, 수행할 작업 옵션 매개 변수로 구성됨
- 재시도를 관리할 수 있고, 진행 상황을 추적 가능, 보고서 생성 기능 등이 제공됨
- S3 인벤토리의 객체목록을 이용해 S3 Select 파일 필터링이 가능함
